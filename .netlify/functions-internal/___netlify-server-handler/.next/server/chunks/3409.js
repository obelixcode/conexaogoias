"use strict";exports.id=3409,exports.ids=[3409],exports.modules={40284:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},62186:(a,b,c)=>{c.d(b,{BT:()=>i,Wu:()=>j,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(21124);c(38301);var e=c(44943);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},64661:(a,b,c)=>{c.d(b,{M:()=>h});var d=c(67402),e=c(13737);let f="categories",g="news";class h{static async createCategory(a){try{if(await this.getCategoryBySlug(a.slug))throw Error("J\xe1 existe uma categoria com este slug");return(await (0,d.gS)((0,d.rJ)(e.db,f),{name:a.name,slug:a.slug,color:a.color,description:a.description||"",order:a.order,isActive:a.isActive,createdAt:(0,d.O5)(),updatedAt:(0,d.O5)()})).id}catch(a){if(console.error("Create category error:",a),a instanceof Error&&a.message.includes("slug"))throw a;throw Error("Erro ao criar categoria")}}static async updateCategory(a,b){try{if(b.slug){let c=await this.getCategoryBySlug(b.slug);if(c&&c.id!==a)throw Error("J\xe1 existe uma categoria com este slug")}await (0,d.mZ)((0,d.H9)(e.db,f,a),{...b,updatedAt:(0,d.O5)()})}catch(a){if(console.error("Update category error:",a),a instanceof Error&&a.message.includes("slug"))throw a;throw Error("Erro ao atualizar categoria")}}static async deleteCategory(a){try{let b=(0,d.P)((0,d.rJ)(e.db,g),(0,d._M)("categoryId","==",a));if(!(await (0,d.GG)(b)).empty)throw Error("N\xe3o \xe9 poss\xedvel excluir categoria que possui not\xedcias");await (0,d.kd)((0,d.H9)(e.db,f,a))}catch(a){if(console.error("Delete category error:",a),a instanceof Error&&a.message.includes("not\xedcias"))throw a;throw Error("Erro ao excluir categoria")}}static async getCategoryById(a){try{let b=await (0,d.x7)((0,d.H9)(e.db,f,a));if(!b.exists())return null;let c=b.data();return{id:b.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}}catch(a){throw console.error("Get category by ID error:",a),Error("Erro ao buscar categoria")}}static async getCategoryBySlug(a){try{let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("slug","==",a)),c=await (0,d.GG)(b);if(c.empty)return null;let g=c.docs[0],h=g.data();return{id:g.id,...h,createdAt:h.createdAt?.toDate()||new Date,updatedAt:h.updatedAt?.toDate()||new Date}}catch(a){throw console.error("Get category by slug error:",a),Error("Erro ao buscar categoria")}}static async getAllCategories(){try{let a;try{let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d.My)("order","asc"));a=await (0,d.GG)(b)}catch(b){console.warn("OrderBy failed, fetching without order:",b),a=await (0,d.GG)((0,d.rJ)(e.db,f))}return a.docs.map(a=>{let b=a.data();return{id:a.id,...b,createdAt:b.createdAt?.toDate()||new Date,updatedAt:b.updatedAt?.toDate()||new Date}}).sort((a,b)=>(a.order||0)-(b.order||0))}catch(a){throw console.error("Get all categories error:",a),Error("Erro ao buscar categorias")}}static async getActiveCategories(){try{let a;try{let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("isActive","==",!0),(0,d.My)("order","asc"));a=await (0,d.GG)(b)}catch(c){console.warn("OrderBy failed for active categories, fetching without order:",c);let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("isActive","==",!0));a=await (0,d.GG)(b)}return a.docs.map(a=>{let b=a.data();return{id:a.id,...b,createdAt:b.createdAt?.toDate()||new Date,updatedAt:b.updatedAt?.toDate()||new Date}}).sort((a,b)=>(a.order||0)-(b.order||0))}catch(a){throw console.error("Get active categories error:",a),Error("Erro ao buscar categorias ativas")}}static async getCategoriesWithCount(){try{let a=await this.getAllCategories(),b=[];for(let c of a){let a=(0,d.P)((0,d.rJ)(e.db,g),(0,d._M)("categoryId","==",c.id),(0,d._M)("isPublished","==",!0)),f=await (0,d.GG)(a);b.push({...c,newsCount:f.size})}return b}catch(a){throw console.error("Get categories with count error:",a),Error("Erro ao buscar categorias com contagem")}}static async updateCategoryOrder(a){try{let b=a.map((a,b)=>(0,d.mZ)((0,d.H9)(e.db,f,a),{order:b+1,updatedAt:(0,d.O5)()}));await Promise.all(b)}catch(a){throw console.error("Update category order error:",a),Error("Erro ao atualizar ordem das categorias")}}static generateSlug(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}static async isSlugUnique(a,b){try{let c=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("slug","==",a)),g=await (0,d.GG)(c);if(b)return g.docs.every(a=>a.id!==b);return g.empty}catch(a){throw console.error("Check slug unique error:",a),Error("Erro ao verificar slug")}}static async getCategoryStats(){try{let a=await (0,d.GG)((0,d.rJ)(e.db,f)),b=await (0,d.GG)((0,d.rJ)(e.db,g)),c=a.docs.map(a=>({id:a.id,...a.data()})),h=b.docs.map(a=>({id:a.id,...a.data()})),i=c.filter(a=>a.isActive),j=c.filter(a=>h.some(b=>b.categoryId===a.id)),k=c.map(a=>{let b=h.filter(b=>b.categoryId===a.id),c=b.reduce((a,b)=>a+(b.views||0),0);return{categoryName:a.name,newsCount:b.length,views:c}}).sort((a,b)=>b.newsCount-a.newsCount).slice(0,10);return{totalCategories:c.length,activeCategories:i.length,categoriesWithNews:j.length,topCategories:k}}catch(a){throw console.error("Get category stats error:",a),Error("Erro ao buscar estat\xedsticas das categorias")}}}},72380:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},76180:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},79202:(a,b,c)=>{c.d(b,{A0:()=>g,BF:()=>h,Hj:()=>i,XI:()=>f,nA:()=>k,nd:()=>j});var d=c(21124);c(38301);var e=c(44943);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,d.jsx)("table",{"data-slot":"table",className:(0,e.cn)("w-full caption-bottom text-sm",a),...b})})}function g({className:a,...b}){return(0,d.jsx)("thead",{"data-slot":"table-header",className:(0,e.cn)("[&_tr]:border-b",a),...b})}function h({className:a,...b}){return(0,d.jsx)("tbody",{"data-slot":"table-body",className:(0,e.cn)("[&_tr:last-child]:border-0",a),...b})}function i({className:a,...b}){return(0,d.jsx)("tr",{"data-slot":"table-row",className:(0,e.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...b})}function j({className:a,...b}){return(0,d.jsx)("th",{"data-slot":"table-head",className:(0,e.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}function k({className:a,...b}){return(0,d.jsx)("td",{"data-slot":"table-cell",className:(0,e.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...b})}},93758:(a,b,c)=>{c.d(b,{p:()=>f});var d=c(21124);c(38301);var e=c(44943);function f({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,e.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}},99187:(a,b,c)=>{c.d(b,{E:()=>i});var d=c(21124);c(38301);var e=c(96425),f=c(26691),g=c(44943);let h=(0,f.F)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:a,variant:b,asChild:c=!1,...f}){let i=c?e.DX:"span";return(0,d.jsx)(i,{"data-slot":"badge",className:(0,g.cn)(h({variant:b}),a),...f})}}};