"use strict";exports.id=1555,exports.ids=[1555],exports.modules={13973:(a,b,c)=>{c.d(b,{default:()=>e.a});var d=c(33540),e=c.n(d)},24207:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=c(84339);function e(a){let{reason:b,children:c}=a;throw Object.defineProperty(new d.BailoutToCSRError(b),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},24223:(a,b,c)=>{c.d(b,{c:()=>h});var d=c(67402),e=c(13737);let f="roadmap_requests",g="roadmap_status_timeline";class h{static async createRequest(a,b,c){try{let g=await (0,d.gS)((0,d.rJ)(e.db,f),{title:a.title,description:a.description||"",content:a.content,priority:a.priority,status:"open",authorId:b,authorName:c,coverImage:a.coverImage||"",createdAt:(0,d.O5)(),updatedAt:(0,d.O5)()});return await this.createStatusChange(g.id,b,c,"open","open","Solicita\xe7\xe3o criada"),g.id}catch(a){throw console.error("Error creating roadmap request:",a),Error("Erro ao criar solicita\xe7\xe3o")}}static async updateRequest(a,b){try{let c=(0,d.H9)(e.db,f,a);await (0,d.mZ)(c,{title:b.title,description:b.description||"",content:b.content,priority:b.priority,coverImage:b.coverImage||"",updatedAt:(0,d.O5)()})}catch(a){throw console.error("Error updating roadmap request:",a),Error("Erro ao atualizar solicita\xe7\xe3o")}}static async deleteRequest(a){try{let b=(0,d.P)((0,d.rJ)(e.db,g),(0,d._M)("requestId","==",a)),c=(await (0,d.GG)(b)).docs.map(a=>(0,d.kd)(a.ref));await Promise.all(c),await (0,d.kd)((0,d.H9)(e.db,f,a))}catch(a){throw console.error("Error deleting roadmap request:",a),Error("Erro ao excluir solicita\xe7\xe3o")}}static async getRequestById(a){try{let b=(0,d.H9)(e.db,f,a),c=await (0,d.x7)(b);if(!c.exists())return null;return this.mapDocumentToRoadmapRequest(c)}catch(a){throw console.error("Error getting roadmap request:",a),Error("Erro ao buscar solicita\xe7\xe3o")}}static async getAllRequests(){try{console.log("\uD83D\uDD0D Buscando solicita\xe7\xf5es do roadmap...");let a=(0,d.P)((0,d.rJ)(e.db,f),(0,d.My)("createdAt","desc")),b=await (0,d.GG)(a);return console.log("\uD83D\uDCCA Encontradas",b.docs.length,"solicita\xe7\xf5es"),b.docs.map(a=>this.mapDocumentToRoadmapRequest(a)).sort((a,b)=>{let c={high:3,medium:2,low:1},d=c[a.priority]||0,e=c[b.priority]||0;return d!==e?e-d:b.createdAt.getTime()-a.createdAt.getTime()})}catch(a){throw console.error("âŒ Error getting roadmap requests:",a),Error("Erro ao buscar solicita\xe7\xf5es")}}static async getRequestsByStatus(a){try{let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("status","==",a),(0,d.My)("createdAt","desc"));return(await (0,d.GG)(b)).docs.map(a=>this.mapDocumentToRoadmapRequest(a)).sort((a,b)=>{let c={high:3,medium:2,low:1},d=c[a.priority]||0,e=c[b.priority]||0;return d!==e?e-d:b.createdAt.getTime()-a.createdAt.getTime()})}catch(a){throw console.error("Error getting requests by status:",a),Error("Erro ao buscar solicita\xe7\xf5es por status")}}static async getRequestsWithFilters(a){try{let b=(0,d.P)((0,d.rJ)(e.db,f));a.status&&(b=(0,d.P)(b,(0,d._M)("status","==",a.status))),a.priority&&(b=(0,d.P)(b,(0,d._M)("priority","==",a.priority))),a.authorId&&(b=(0,d.P)(b,(0,d._M)("authorId","==",a.authorId))),b=(0,d.P)(b,(0,d.My)("priority","asc"),(0,d.My)("createdAt","desc"));let c=(await (0,d.GG)(b)).docs.map(a=>this.mapDocumentToRoadmapRequest(a));return a.dateFrom&&(c=c.filter(b=>b.createdAt>=a.dateFrom)),a.dateTo&&(c=c.filter(b=>b.createdAt<=a.dateTo)),c}catch(a){throw console.error("Error getting requests with filters:",a),Error("Erro ao buscar solicita\xe7\xf5es com filtros")}}static async updateStatus(a,b,c,g,h){try{let i=await this.getRequestById(a);if(!i)throw Error("Solicita\xe7\xe3o n\xe3o encontrada");let j=i.status,k=(0,d.H9)(e.db,f,a);await (0,d.mZ)(k,{status:b,updatedAt:(0,d.O5)()}),await this.createStatusChange(a,c,g,j,b,h)}catch(a){throw console.error("Error updating status:",a),Error("Erro ao atualizar status")}}static async createStatusChange(a,b,c,f,h,i){try{await (0,d.gS)((0,d.rJ)(e.db,g),{requestId:a,userId:b,userName:c,oldStatus:f,newStatus:h,comment:i||"",timestamp:(0,d.O5)()})}catch(a){console.error("Error creating status change:",a)}}static async getStatusTimeline(a){try{let b=(0,d.P)((0,d.rJ)(e.db,g),(0,d._M)("requestId","==",a),(0,d.My)("timestamp","asc"));return(await (0,d.GG)(b)).docs.map(a=>this.mapDocumentToStatusChange(a))}catch(a){throw console.error("Error getting status timeline:",a),Error("Erro ao buscar hist\xf3rico de status")}}static async getStats(){try{let a=await this.getAllRequests();return{total:a.length,open:a.filter(a=>"open"===a.status).length,in_progress:a.filter(a=>"in_progress"===a.status).length,completed:a.filter(a=>"completed"===a.status).length,byPriority:{high:a.filter(a=>"high"===a.priority).length,medium:a.filter(a=>"medium"===a.priority).length,low:a.filter(a=>"low"===a.priority).length}}}catch(a){throw console.error("Error getting roadmap stats:",a),Error("Erro ao buscar estat\xedsticas")}}static mapDocumentToRoadmapRequest(a){let b=a.data();return{id:a.id,title:b.title,description:b.description,content:b.content,priority:b.priority,status:b.status,authorId:b.authorId,authorName:b.authorName,coverImage:b.coverImage,createdAt:b.createdAt?.toDate()||new Date,updatedAt:b.updatedAt?.toDate()||new Date}}static mapDocumentToStatusChange(a){let b=a.data();return{id:a.id,requestId:b.requestId,userId:b.userId,userName:b.userName,oldStatus:b.oldStatus,newStatus:b.newStatus,timestamp:b.timestamp?.toDate()||new Date,comment:b.comment}}}},33540:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return e}});let d=c(35288)._(c(43972));function e(a,b){var c;let e={};"function"==typeof a&&(e.loader=a);let f={...e,...b};return(0,d.default)({...f,modules:null==(c=f.loadableGenerated)?void 0:c.modules})}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},43700:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},43972:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return j}});let d=c(21124),e=c(38301),f=c(24207),g=c(52402);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},45608:(a,b,c)=>{c.d(b,{Select:()=>j,SelectContent:()=>m,SelectItem:()=>n,SelectTrigger:()=>l,SelectValue:()=>k});var d=c(21124);c(38301);var e=c(34023),f=c(85351),g=c(71613),h=c(82042),i=c(44943);function j({...a}){return(0,d.jsx)(e.bL,{"data-slot":"select",...a})}function k({...a}){return(0,d.jsx)(e.WT,{"data-slot":"select-value",...a})}function l({className:a,size:b="default",children:c,...g}){return(0,d.jsxs)(e.l9,{"data-slot":"select-trigger","data-size":b,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...g,children:[c,(0,d.jsx)(e.In,{asChild:!0,children:(0,d.jsx)(f.A,{className:"size-4 opacity-50"})})]})}function m({className:a,children:b,position:c="popper",align:f="center",...g}){return(0,d.jsx)(e.ZL,{children:(0,d.jsxs)(e.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,align:f,...g,children:[(0,d.jsx)(o,{}),(0,d.jsx)(e.LM,{className:(0,i.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:b}),(0,d.jsx)(p,{})]})})}function n({className:a,children:b,...c}){return(0,d.jsxs)(e.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...c,children:[(0,d.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,d.jsx)(e.VF,{children:(0,d.jsx)(g.A,{className:"size-4"})})}),(0,d.jsx)(e.p4,{children:b})]})}function o({className:a,...b}){return(0,d.jsx)(e.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.A,{className:"size-4"})})}function p({className:a,...b}){return(0,d.jsx)(e.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(f.A,{className:"size-4"})})}},52402:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"PreloadChunks",{enumerable:!0,get:function(){return h}});let d=c(21124),e=c(23312),f=c(29294),g=c(61348);function h(a){let{moduleIds:b}=a,c=f.workAsyncStorage.getStore();if(void 0===c)return null;let h=[];if(c.reactLoadableManifest&&b){let a=c.reactLoadableManifest;for(let c of b){if(!a[c])continue;let b=a[c].files;h.push(...b)}}return 0===h.length?null:(0,d.jsx)(d.Fragment,{children:h.map(a=>{let b=c.assetPrefix+"/_next/"+(0,g.encodeURIPath)(a);return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:b,rel:"stylesheet",as:"style"},a):((0,e.preload)(b,{as:"script",fetchPriority:"low"}),null)})})}},61348:(a,b)=>{function c(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"encodeURIPath",{enumerable:!0,get:function(){return c}})},62186:(a,b,c)=>{c.d(b,{BT:()=>i,Wu:()=>j,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(21124);c(38301);var e=c(44943);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},68254:(a,b,c)=>{c.d(b,{T:()=>f});var d=c(21124);c(38301);var e=c(44943);function f({className:a,...b}){return(0,d.jsx)("textarea",{"data-slot":"textarea",className:(0,e.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...b})}},75219:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},79944:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},93758:(a,b,c)=>{c.d(b,{p:()=>f});var d=c(21124);c(38301);var e=c(44943);function f({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,e.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}},96269:(a,b,c)=>{c.d(b,{D:()=>h});var d=c(21124);c(38301);var e=c(75219),f=c(47089),g=c(35284);function h({isOpen:a,onClose:b,title:c,message:h,redirectTo:i}){if(!a)return null;let j=()=>{b(),i&&(window.location.href=i)};return(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:j}),(0,d.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-100",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,d.jsx)(e.A,{className:"w-6 h-6 text-green-600"})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c})]}),(0,d.jsx)("button",{onClick:j,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Fechar modal",children:(0,d.jsx)(f.A,{className:"w-5 h-5 text-gray-400"})})]}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:h}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(g.$,{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"OK"})})]})]})]})}}};