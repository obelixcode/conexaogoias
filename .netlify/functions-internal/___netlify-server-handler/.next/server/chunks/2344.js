"use strict";exports.id=2344,exports.ids=[2344],exports.modules={23552:(a,b,c)=>{function d(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}function e(a,b){let c=a.replace(/<[^>]*>/g,"");return b?c.length<=b?c:c.substring(0,b).trim()+"...":c}function f(a){let b=process.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000";return`${b}${a.startsWith("/")?a:`/${a}`}`}function g(a){return`/noticia/${a}`}function h(a){let b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null}function i(a){if(!a)return"category-link";let b=a.toUpperCase(),c={"#EF4444":"category-link-red","#F59E0B":"category-link-yellow","#10B981":"category-link-green","#3B82F6":"category-link-blue","#8B5CF6":"category-link-purple","#F97316":"category-link-yellow","#84CC16":"category-link-green","#06B6D4":"category-link-blue","#EC4899":"category-link-purple","#6B7280":"category-link"};if(c[b])return c[b];let d=h(a);if(!d)return"category-link";let{r:e,g:f,b:g}=d;return e>200&&f>100&&g<100?"category-link-yellow":e>f&&e>g&&e>150&&f<100&&g<100?"category-link-red":g>e&&g>f&&g>150&&e<100&&f<100?"category-link-blue":f>e&&f>g&&f>150&&e<100&&g<100?"category-link-green":e>100&&g>100&&f<100?"category-link-purple":"category-link"}function j(a){let b=h(a);if(!b)return"category-badge";let{r:c,g:d,b:e}=b;return c>d&&c>e&&c>150?"category-badge-red":e>c&&e>d&&e>150?"category-badge-blue":d>c&&d>e&&d>150?"category-badge-green":c>200&&d>200&&e<100?"category-badge-yellow":c>100&&e>100&&d<100?"category-badge-purple":"category-badge"}c.d(b,{Lo:()=>f,Yv:()=>d,c5:()=>e,oi:()=>j,up:()=>i,xe:()=>g})},35284:(a,b,c)=>{c.d(b,{$:()=>i});var d=c(21124);c(38301);var e=c(96425),f=c(26691),g=c(44943);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},36435:(a,b,c)=>{c.d(b,{M:()=>h});var d=c(33720),e=c(44979);let f="categories",g="news";class h{static async createCategory(a){try{if(await this.getCategoryBySlug(a.slug))throw Error("J\xe1 existe uma categoria com este slug");return(await (0,d.gS)((0,d.rJ)(e.db,f),{name:a.name,slug:a.slug,color:a.color,description:a.description||"",order:a.order,isActive:a.isActive,createdAt:(0,d.O5)(),updatedAt:(0,d.O5)()})).id}catch(a){if(console.error("Create category error:",a),a instanceof Error&&a.message.includes("slug"))throw a;throw Error("Erro ao criar categoria")}}static async updateCategory(a,b){try{if(b.slug){let c=await this.getCategoryBySlug(b.slug);if(c&&c.id!==a)throw Error("J\xe1 existe uma categoria com este slug")}await (0,d.mZ)((0,d.H9)(e.db,f,a),{...b,updatedAt:(0,d.O5)()})}catch(a){if(console.error("Update category error:",a),a instanceof Error&&a.message.includes("slug"))throw a;throw Error("Erro ao atualizar categoria")}}static async deleteCategory(a){try{let b=(0,d.P)((0,d.rJ)(e.db,g),(0,d._M)("categoryId","==",a));if(!(await (0,d.GG)(b)).empty)throw Error("N\xe3o \xe9 poss\xedvel excluir categoria que possui not\xedcias");await (0,d.kd)((0,d.H9)(e.db,f,a))}catch(a){if(console.error("Delete category error:",a),a instanceof Error&&a.message.includes("not\xedcias"))throw a;throw Error("Erro ao excluir categoria")}}static async getCategoryById(a){try{let b=await (0,d.x7)((0,d.H9)(e.db,f,a));if(!b.exists())return null;let c=b.data();return{id:b.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}}catch(a){throw console.error("Get category by ID error:",a),Error("Erro ao buscar categoria")}}static async getCategoryBySlug(a){try{let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("slug","==",a)),c=await (0,d.GG)(b);if(c.empty)return null;let g=c.docs[0],h=g.data();return{id:g.id,...h,createdAt:h.createdAt?.toDate()||new Date,updatedAt:h.updatedAt?.toDate()||new Date}}catch(a){throw console.error("Get category by slug error:",a),Error("Erro ao buscar categoria")}}static async getAllCategories(){try{let a;try{let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d.My)("order","asc"));a=await (0,d.GG)(b)}catch(b){console.warn("OrderBy failed, fetching without order:",b),a=await (0,d.GG)((0,d.rJ)(e.db,f))}return a.docs.map(a=>{let b=a.data();return{id:a.id,...b,createdAt:b.createdAt?.toDate()||new Date,updatedAt:b.updatedAt?.toDate()||new Date}}).sort((a,b)=>(a.order||0)-(b.order||0))}catch(a){throw console.error("Get all categories error:",a),Error("Erro ao buscar categorias")}}static async getActiveCategories(){try{let a;try{let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("isActive","==",!0),(0,d.My)("order","asc"));a=await (0,d.GG)(b)}catch(c){console.warn("OrderBy failed for active categories, fetching without order:",c);let b=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("isActive","==",!0));a=await (0,d.GG)(b)}return a.docs.map(a=>{let b=a.data();return{id:a.id,...b,createdAt:b.createdAt?.toDate()||new Date,updatedAt:b.updatedAt?.toDate()||new Date}}).sort((a,b)=>(a.order||0)-(b.order||0))}catch(a){throw console.error("Get active categories error:",a),Error("Erro ao buscar categorias ativas")}}static async getCategoriesWithCount(){try{let a=await this.getAllCategories(),b=[];for(let c of a){let a=(0,d.P)((0,d.rJ)(e.db,g),(0,d._M)("categoryId","==",c.id),(0,d._M)("isPublished","==",!0)),f=await (0,d.GG)(a);b.push({...c,newsCount:f.size})}return b}catch(a){throw console.error("Get categories with count error:",a),Error("Erro ao buscar categorias com contagem")}}static async updateCategoryOrder(a){try{let b=a.map((a,b)=>(0,d.mZ)((0,d.H9)(e.db,f,a),{order:b+1,updatedAt:(0,d.O5)()}));await Promise.all(b)}catch(a){throw console.error("Update category order error:",a),Error("Erro ao atualizar ordem das categorias")}}static generateSlug(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}static async isSlugUnique(a,b){try{let c=(0,d.P)((0,d.rJ)(e.db,f),(0,d._M)("slug","==",a)),g=await (0,d.GG)(c);if(b)return g.docs.every(a=>a.id!==b);return g.empty}catch(a){throw console.error("Check slug unique error:",a),Error("Erro ao verificar slug")}}static async getCategoryStats(){try{let a=await (0,d.GG)((0,d.rJ)(e.db,f)),b=await (0,d.GG)((0,d.rJ)(e.db,g)),c=a.docs.map(a=>({id:a.id,...a.data()})),h=b.docs.map(a=>({id:a.id,...a.data()})),i=c.filter(a=>a.isActive),j=c.filter(a=>h.some(b=>b.categoryId===a.id)),k=c.map(a=>{let b=h.filter(b=>b.categoryId===a.id),c=b.reduce((a,b)=>a+(b.views||0),0);return{categoryName:a.name,newsCount:b.length,views:c}}).sort((a,b)=>b.newsCount-a.newsCount).slice(0,10);return{totalCategories:c.length,activeCategories:i.length,categoriesWithNews:j.length,topCategories:k}}catch(a){throw console.error("Get category stats error:",a),Error("Erro ao buscar estat\xedsticas das categorias")}}}},44943:(a,b,c)=>{c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},81704:(a,b,c)=>{c.d(b,{NewsCard:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call NewsCard() from the server but NewsCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rafaelsalles/conexaogoias/src/components/NewsCard.tsx","NewsCard")},84929:(a,b,c)=>{c.d(b,{Pp:()=>j,Yq:()=>i});var d=c(96635),e=c(7742),f=c(63386),g=c(71500),h=c(27046);function i(a,b="dd/MM/yyyy"){let c="string"==typeof a?(0,d.H)(a):a;return(0,e.GP)(c,b,{locale:h.F})}function j(a){let b="string"==typeof a?(0,d.H)(a):a;return(0,f.c)(b)?`Agora, ${(0,e.GP)(b,"HH:mm")}`:(0,g.P)(b)?`Ontem, ${(0,e.GP)(b,"HH:mm")}`:(0,e.GP)(b,"dd/MM/yyyy",{locale:h.F})}},96014:(a,b,c)=>{c.d(b,{NewsCard:()=>j});var d=c(21124),e=c(3991),f=c.n(e),g=c(24515),h=c(84929),i=c(23552);function j({news:a,variant:b="default",showCategory:c=!0,className:e=""}){let j="group cursor-pointer transition-all duration-300 hover:shadow-lg";return"compact"===b?(0,d.jsx)(f(),{href:a.slug?`/noticia/${a.slug}`:"#",className:`${j} ${e}`,prefetch:!1,children:(0,d.jsxs)("div",{className:"flex space-x-3 p-3",children:[(0,d.jsx)("div",{className:"shrink-0",children:(0,d.jsx)("div",{className:"relative w-20 h-16 rounded-md overflow-hidden",children:a.coverImage?(0,d.jsx)(g.default,{src:a.coverImage,alt:a.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"80px"}):(0,d.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-gray-400 text-xs",children:"\uD83D\uDCF7"})})})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-2 group-hover:text-blue-900 transition-colors",children:a.title}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(0,h.Pp)(a.publishedAt||a.createdAt)})]})]})}):(0,d.jsx)(f(),{href:a.slug?`/noticia/${a.slug}`:"#",className:`${j} ${{default:"bg-white rounded-lg overflow-hidden border border-gray-200",featured:"bg-white rounded-lg overflow-hidden border border-gray-200 shadow-md",compact:"bg-white rounded-lg overflow-hidden border border-gray-200"}[b]} ${e}`,prefetch:!1,children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("div",{className:"relative w-full h-48 overflow-hidden",children:[a.coverImage?(0,d.jsx)(g.default,{src:a.coverImage,alt:a.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"featured"===b?"400px":"300px"}):(0,d.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-gray-500 text-sm",children:"Sem imagem"})}),c&&(0,d.jsx)("div",{className:(0,i.oi)(a.category.color),children:a.category.name})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h3",{className:"text-lg font-bold text-gray-900 line-clamp-2 group-hover:text-blue-900 transition-colors mb-2",children:a.title}),a.subtitle&&(0,d.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:a.subtitle}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,d.jsxs)("span",{children:["Por ",a.author]}),(0,d.jsx)("span",{children:(0,h.Pp)(a.publishedAt||a.createdAt)})]}),(0,d.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[(0,d.jsxs)("span",{children:[a.views||0," visualiza\xe7\xf5es"]}),"featured"===b&&(0,d.jsx)("span",{className:"text-blue-600 font-medium",children:"Destaque"})]})]})]})})}}};