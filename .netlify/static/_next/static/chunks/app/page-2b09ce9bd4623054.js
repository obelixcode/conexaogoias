(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{3004:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,52619,23)),Promise.resolve().then(r.bind(r,26943)),Promise.resolve().then(r.bind(r,51630)),Promise.resolve().then(r.bind(r,92662)),Promise.resolve().then(r.bind(r,98749)),Promise.resolve().then(r.bind(r,53182)),Promise.resolve().then(r.bind(r,46898)),Promise.resolve().then(r.bind(r,62358))},26943:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BannerDisplay:()=>n});var a=r(95155),s=r(12115),i=r(15239),l=r(28669);function n(e){let{banners:t,className:r="",variant:n="default"}=e,[o,c]=(0,s.useState)(new Set);if(0===t.length)return null;let d=async e=>{try{await l._.recordBannerClick(e.id,e.position,{userAgent:navigator.userAgent,referrer:document.referrer}),window.open(e.link,"_blank","noopener,noreferrer")}catch(t){console.error("Error recording banner click:",t),window.open(e.link,"_blank","noopener,noreferrer")}};return(0,a.jsx)("div",{className:"space-y-4 ".concat(r),children:t.map(e=>{var t;let r=o.has(e.id),s=!((t=e.image)&&t.trim()&&(t.startsWith("http://")||t.startsWith("https://"))),l=e.image.includes("firebasestorage.googleapis.com");return(0,a.jsxs)("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg bg-white border border-gray-200",onClick:()=>d(e),children:[(0,a.jsxs)("div",{className:"relative w-full ".concat("header"===n?"h-48 md:h-64":"h-32"," overflow-hidden"),children:[r||s?(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCE2"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,a.jsx)("p",{className:"text-xs opacity-80 mt-1",children:"Clique para acessar"})]})}):(0,a.jsx)(i.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",onError:()=>{var t;console.log("Erro ao carregar imagem do banner ".concat(e.id,":"),e.image),console.error("Erro ao carregar imagem do banner:",t=e.id),c(e=>new Set(e).add(t))},onLoad:()=>{console.log("Imagem do banner carregada com sucesso:",e.title)},...l&&{unoptimized:!0}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"})]}),e.title&&!r&&!s&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3",children:(0,a.jsx)("p",{className:"text-white font-medium line-clamp-2 ".concat("header"===n?"text-lg":"text-sm"),children:e.title})})]},e.id)})})}},28669:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var a=r(19708),s=r(14585);let i="banners",l="bannerClicks";class n{static async createBanner(e,t){try{return(await (0,a.gS)((0,a.rJ)(s.db,i),{title:e.title,image:t,link:e.link,position:e.position,isActive:e.isActive,order:e.order,clicks:0,impressions:0,maxClicks:e.maxClicks||null,maxImpressions:e.maxImpressions||null,createdAt:(0,a.O5)(),updatedAt:(0,a.O5)(),startsAt:e.startsAt||null,expiresAt:e.expiresAt||null,targetAudience:e.targetAudience||""})).id}catch(e){throw console.error("Create banner error:",e),Error("Erro ao criar banner")}}static async updateBanner(e,t,r){try{let l={...t,updatedAt:(0,a.O5)()};r&&(l.image=r),await (0,a.mZ)((0,a.H9)(s.db,i,e),l)}catch(e){throw console.error("Update banner error:",e),Error("Erro ao atualizar banner")}}static async deleteBanner(e){try{await (0,a.kd)((0,a.H9)(s.db,i,e))}catch(e){throw console.error("Delete banner error:",e),Error("Erro ao excluir banner")}}static async getBannerById(e){try{var t,r,l,n;let o=await (0,a.x7)((0,a.H9)(s.db,i,e));if(!o.exists())return null;let c=o.data();return{id:o.id,...c,createdAt:(null==(t=c.createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(r=c.updatedAt)?void 0:r.toDate())||new Date,startsAt:null==(l=c.startsAt)?void 0:l.toDate(),expiresAt:null==(n=c.expiresAt)?void 0:n.toDate()}}catch(e){throw console.error("Get banner by ID error:",e),Error("Erro ao buscar banner")}}static async getAllBanners(){try{let e=(0,a.P)((0,a.rJ)(s.db,i),(0,a.My)("createdAt","desc"));return(await (0,a.GG)(e)).docs.map(e=>{var t,r,a,s;let i=e.data();return{id:e.id,...i,createdAt:(null==(t=i.createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(r=i.updatedAt)?void 0:r.toDate())||new Date,startsAt:null==(a=i.startsAt)?void 0:a.toDate(),expiresAt:null==(s=i.expiresAt)?void 0:s.toDate()}})}catch(e){throw console.error("Get all banners error:",e),Error("Erro ao buscar banners")}}static async getActiveBanners(){try{let e=(0,a.P)((0,a.rJ)(s.db,i),(0,a.My)("createdAt","desc")),t=await (0,a.GG)(e),r=new Date;return t.docs.map(e=>{var t,r,a,s;let i=e.data(),l=e=>{if(!e)return e;let t=decodeURIComponent(e);return t=(t=(t=(t=(t=t.replace(/^http:\/\/localhost:3000\/_next\/image\?url=/,"")).replace(/^https:\/\/localhost:3000\/_next\/image\?url=/,"")).replace(/&w=\d+&q=\d+$/,"")).replace(/&w=\d+$/,"")).replace(/&q=\d+$/,"")},n=l(i.image),o=l(i.link);return{id:e.id,...i,image:n,link:o,createdAt:(null==(t=i.createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(r=i.updatedAt)?void 0:r.toDate())||new Date,startsAt:null==(a=i.startsAt)?void 0:a.toDate(),expiresAt:null==(s=i.expiresAt)?void 0:s.toDate()}}).filter(e=>!!e.isActive&&(!e.expiresAt||!(e.expiresAt<r))).sort((e,t)=>(e.order||0)-(t.order||0))}catch(e){throw console.error("Get active banners error:",e),Error("Erro ao buscar banners ativos")}}static async getActiveBannersByPosition(e){try{let t=new Date,r=(0,a.P)((0,a.rJ)(s.db,i),(0,a._M)("position","==",e),(0,a._M)("isActive","==",!0),(0,a.My)("order","asc"));return(await (0,a.GG)(r)).docs.map(e=>{var t,r,a,s;let i=e.data();return{id:e.id,...i,createdAt:(null==(t=i.createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(r=i.updatedAt)?void 0:r.toDate())||new Date,startsAt:null==(a=i.startsAt)?void 0:a.toDate(),expiresAt:null==(s=i.expiresAt)?void 0:s.toDate()}}).filter(e=>!e.expiresAt||e.expiresAt>t)}catch(e){throw console.error("Get active banners by position error:",e),Error("Erro ao buscar banners ativos")}}static async recordBannerClick(e,t,r){try{await (0,a.gS)((0,a.rJ)(s.db,l),{bannerId:e,position:t,clickedAt:(0,a.O5)(),userAgent:(null==r?void 0:r.userAgent)||"",referrer:(null==r?void 0:r.referrer)||"",ipAddress:(null==r?void 0:r.ipAddress)||""}),await (0,a.mZ)((0,a.H9)(s.db,i,e),{clicks:(0,a.GV)(1)})}catch(e){console.error("Record banner click error:",e)}}static async recordBannerImpression(e){try{await (0,a.mZ)((0,a.H9)(s.db,i,e),{impressions:(0,a.GV)(1)})}catch(e){console.error("Record banner impression error:",e)}}static async updateBannerOrder(e){try{let t=e.map((e,t)=>(0,a.mZ)((0,a.H9)(s.db,i,e),{order:t+1,updatedAt:(0,a.O5)()}));await Promise.all(t)}catch(e){throw console.error("Update banner order error:",e),Error("Erro ao atualizar ordem dos banners")}}static async toggleBannerStatus(e){try{let t=await this.getBannerById(e);if(!t)throw Error("Banner n\xe3o encontrado");await (0,a.mZ)((0,a.H9)(s.db,i,e),{isActive:!t.isActive,updatedAt:(0,a.O5)()})}catch(e){throw console.error("Toggle banner status error:",e),Error("Erro ao alterar status do banner")}}static async getBannerStats(){try{if(console.log("Fetching banner stats..."),!s.db)throw Error("Firebase Firestore n\xe3o foi inicializado");let e=await (0,a.GG)((0,a.rJ)(s.db,i));console.log("Banners fetched:",e.docs.length);let t=await (0,a.GG)((0,a.rJ)(s.db,l));console.log("Clicks fetched:",t.docs.length);let r=e.docs.map(e=>{var t,r,a,s;let i=e.data();return{id:e.id,...i,createdAt:(null==(t=i.createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(r=i.updatedAt)?void 0:r.toDate())||new Date,startsAt:null==(a=i.startsAt)?void 0:a.toDate(),expiresAt:null==(s=i.expiresAt)?void 0:s.toDate()}}),n=r.filter(e=>e.isActive),o=r.reduce((e,t)=>e+t.clicks,0),c=r.reduce((e,t)=>e+t.impressions,0),d=["sidebar-top","sidebar-bottom","header","content-top","content-bottom","between-news"].map(e=>{let t=r.filter(t=>t.position===e),a=t.reduce((e,t)=>e+t.clicks,0);return{position:e,count:t.length,clicks:a}}),u=r.map(e=>({id:e.id,title:e.title,clicks:e.clicks,impressions:e.impressions,ctr:e.impressions>0?e.clicks/e.impressions*100:0})).sort((e,t)=>t.clicks-e.clicks).slice(0,10);return{totalBanners:r.length,activeBanners:n.length,totalClicks:o,totalImpressions:c,clickThroughRate:c>0?o/c*100:0,bannersByPosition:d,topBanners:u}}catch(e){return console.error("Get banner stats error:",e),e instanceof Error&&(console.error("Error details:",e.message),console.error("Error stack:",e.stack)),{totalBanners:0,activeBanners:0,totalClicks:0,totalImpressions:0,clickThroughRate:0,bannersByPosition:[],topBanners:[]}}}static async getBannerClicks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{let r=new Date;r.setDate(r.getDate()-t);let i=(0,a.P)((0,a.rJ)(s.db,l),(0,a._M)("clickedAt",">=",r),(0,a.My)("clickedAt","desc"));return e&&(i=(0,a.P)((0,a.rJ)(s.db,l),(0,a._M)("bannerId","==",e),(0,a._M)("clickedAt",">=",r),(0,a.My)("clickedAt","desc"))),(await (0,a.GG)(i)).docs.map(e=>{var t;let r=e.data();return{id:e.id,bannerId:r.bannerId||"",position:r.position||"sidebar-top",clickedAt:(null==(t=r.clickedAt)?void 0:t.toDate())||new Date,userAgent:r.userAgent||"",referrer:r.referrer||""}})}catch(e){throw console.error("Get banner clicks error:",e),Error("Erro ao buscar cliques dos banners")}}static async cleanupExpiredBanners(){try{let e=new Date,t=(0,a.P)((0,a.rJ)(s.db,i),(0,a._M)("expiresAt","<=",e),(0,a._M)("isActive","==",!0)),r=(await (0,a.GG)(t)).docs.map(e=>(0,a.mZ)(e.ref,{isActive:!1,updatedAt:(0,a.O5)()}));await Promise.all(r)}catch(e){throw console.error("Cleanup expired banners error:",e),Error("Erro ao limpar banners expirados")}}}},46898:(e,t,r)=>{"use strict";r.d(t,{NewsCard:()=>c});var a=r(95155),s=r(52619),i=r.n(s),l=r(15239),n=r(52817),o=r(56618);function c(e){let{news:t,variant:r="default",showCategory:s=!0,className:c=""}=e,d="group cursor-pointer transition-all duration-300 hover:shadow-lg";return"compact"===r?(0,a.jsx)(i(),{href:t.slug?"/noticia/".concat(t.slug):"#",className:"".concat(d," ").concat(c),prefetch:!1,children:(0,a.jsxs)("div",{className:"flex space-x-3 p-3",children:[(0,a.jsx)("div",{className:"shrink-0",children:(0,a.jsx)("div",{className:"relative w-20 h-16 rounded-md overflow-hidden",children:t.coverImage?(0,a.jsx)(l.default,{src:t.coverImage,alt:t.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"80px"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"\uD83D\uDCF7"})})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-2 group-hover:text-blue-900 transition-colors",children:t.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(0,n.Pp)(t.publishedAt||t.createdAt)})]})]})}):(0,a.jsx)(i(),{href:t.slug?"/noticia/".concat(t.slug):"#",className:"".concat(d," ").concat({default:"bg-white rounded-lg overflow-hidden border border-gray-200",featured:"bg-white rounded-lg overflow-hidden border border-gray-200 shadow-md",compact:"bg-white rounded-lg overflow-hidden border border-gray-200"}[r]," ").concat(c),prefetch:!1,children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"relative w-full h-48 overflow-hidden",children:[t.coverImage?(0,a.jsx)(l.default,{src:t.coverImage,alt:t.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300",sizes:"featured"===r?"400px":"300px"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"Sem imagem"})}),s&&(0,a.jsx)("div",{className:(0,o.oi)(t.category.color),children:t.category.name})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 line-clamp-2 group-hover:text-blue-900 transition-colors mb-2",children:t.title}),t.subtitle&&(0,a.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:t.subtitle}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Por ",t.author]}),(0,a.jsx)("span",{children:(0,n.Pp)(t.publishedAt||t.createdAt)})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:[t.views||0," visualiza\xe7\xf5es"]}),"featured"===r&&(0,a.jsx)("span",{className:"text-blue-600 font-medium",children:"Destaque"})]})]})]})})}},51630:(e,t,r)=>{"use strict";r.d(t,{CategoryHighlights:()=>n});var a=r(95155),s=r(52619),i=r.n(s),l=r(15239);function n(e){let{highlights:t}=e;if(0===t.length)return null;let r=[];return t.forEach((e,t)=>{e.posts.forEach(a=>{r.push({category:e,post:a,categoryIndex:t})})}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"DESTAQUE DE HOJE"})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(e=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("div",{className:"h-1 w-full mb-2",style:{backgroundColor:e.color}}),(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:e.name})]}),(0,a.jsx)("div",{className:"lg:hidden",children:e.posts.map(t=>(0,a.jsxs)(i(),{href:"/noticia/".concat(t.slug),className:"group block bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 mb-4",children:[(0,a.jsx)("div",{className:"relative h-32 w-full",children:(0,a.jsx)(l.default,{src:t.coverImage,alt:t.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-200",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw"})}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-bold text-white rounded uppercase",style:{backgroundColor:e.color},children:e.name})}),(0,a.jsx)("h4",{className:"text-sm font-bold text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors duration-200",children:t.title})]})]},"".concat(e.id,"-").concat(t.id)))}),(0,a.jsx)("div",{className:"hidden lg:block",children:Array.from({length:4}).map((t,r)=>{let s=e.posts[r];return s?(0,a.jsxs)(i(),{href:"/noticia/".concat(s.slug),className:"group block bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 mb-4",children:[(0,a.jsx)("div",{className:"relative h-32 w-full",children:(0,a.jsx)(l.default,{src:s.coverImage,alt:s.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-200",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw"})}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-bold text-white rounded uppercase",style:{backgroundColor:e.color},children:e.name})}),(0,a.jsx)("h4",{className:"text-sm font-bold text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors duration-200",children:s.title})]})]},"".concat(e.id,"-").concat(s.id)):(0,a.jsx)("div",{className:"h-32"},r)})})]},e.id))})]})}},51834:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>u,Es:()=>h,L3:()=>x,c7:()=>m,lG:()=>o,rr:()=>g});var a=r(95155),s=r(12115),i=r(89511),l=r(65229),n=r(64269);let o=i.bL;i.l9;let c=i.ZL;i.bm;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});d.displayName=i.hJ.displayName;let u=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(i.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...o,children:[s,(0,a.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.UC.displayName;let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let h=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};h.displayName="DialogFooter";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});x.displayName=i.hE.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});g.displayName=i.VY.displayName},52817:(e,t,r)=>{"use strict";r.d(t,{Pp:()=>c,Yq:()=>o});var a=r(26467),s=r(25583),i=r(35504),l=r(47732),n=r(26206);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",r="string"==typeof e?(0,a.H)(e):e;return(0,s.GP)(r,t,{locale:n.F})}function c(e){let t="string"==typeof e?(0,a.H)(e):e;return(0,i.c)(t)?"Agora, ".concat((0,s.GP)(t,"HH:mm")):(0,l.P)(t)?"Ontem, ".concat((0,s.GP)(t,"HH:mm")):(0,s.GP)(t,"dd/MM/yyyy",{locale:n.F})}},53182:(e,t,r)=>{"use strict";r.d(t,{FeaturedNewsGrid:()=>n});var a=r(95155),s=r(52619),i=r.n(s),l=r(15239);function n(e){let{featuredNews:t,className:r=""}=e;if(0===t.length)return(0,a.jsx)("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center ".concat(r),children:(0,a.jsx)("p",{className:"text-gray-500",children:"Nenhuma not\xedcia em destaque"})});let s=t.slice(0,5),[i,...l]=s;return(0,a.jsxs)("div",{className:"w-full ".concat(r),children:[(0,a.jsxs)("div",{className:"hidden lg:block w-full space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-8 h-[400px]",children:[i&&(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(o,{news:i,variant:"main"})}),l[0]&&(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(o,{news:l[0],variant:"secondary"})})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-8 h-[250px]",children:l.slice(1,4).map(e=>(0,a.jsx)("div",{children:(0,a.jsx)(o,{news:e,variant:"tertiary"})},e.id))})]}),(0,a.jsx)("div",{className:"hidden md:grid lg:hidden grid-cols-2 gap-8 w-full",children:s.map((e,t)=>(0,a.jsx)("div",{className:0===t?"col-span-2":"",children:(0,a.jsx)(o,{news:e,variant:0===t?"main":"secondary"})},e.id))}),(0,a.jsx)("div",{className:"grid md:hidden grid-cols-1 gap-4 w-full",children:s.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)(o,{news:e,variant:"mobile"})},e.id))})]})}function o(e){let{news:t,variant:r}=e;return(0,a.jsx)(i(),{href:"/noticia/".concat(t.slug),className:"group relative block overflow-hidden rounded-lg bg-white shadow-md transition-all duration-300 hover:shadow-xl hover:scale-[1.02] ".concat((()=>{switch(r){case"main":case"secondary":case"tertiary":return"h-full";default:return"h-[250px]"}})()),prefetch:!1,children:(0,a.jsxs)("div",{className:"relative h-full w-full",children:[(0,a.jsx)(l.default,{src:t.coverImage,alt:t.title,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105",sizes:"main"===r?"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 40vw":"mobile"===r?"100vw":"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 20vw"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-black/20"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/80 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,a.jsx)("span",{className:"inline-block px-3 py-1.5 text-xs font-bold text-white rounded-md shadow-lg",style:{backgroundColor:t.category.color},children:t.category.name.toUpperCase()})}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-10",children:[(0,a.jsx)("h3",{className:"font-bold text-white leading-tight drop-shadow-lg ".concat((()=>{switch(r){case"main":return"text-xl md:text-2xl lg:text-3xl";case"secondary":case"tertiary":return"text-sm md:text-base";case"mobile":return"text-lg md:text-xl";default:return"text-lg"}})()),children:t.title}),t.subtitle&&"tertiary"!==r&&(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-100 line-clamp-2 drop-shadow-md",children:t.subtitle}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-200 drop-shadow-md",children:[(0,a.jsxs)("span",{className:"font-medium",children:[t.views," visualiza\xe7\xf5es"]}),(0,a.jsx)("span",{className:"font-medium",children:new Date(t.publishedAt).toLocaleDateString("pt-BR")})]})]})]})})}},56618:(e,t,r)=>{"use strict";r.d(t,{Lo:()=>l,Yv:()=>s,c5:()=>i,oi:()=>d,up:()=>c,xe:()=>n});var a=r(87358);function s(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}function i(e,t){let r=e.replace(/<[^>]*>/g,"");return t?r.length<=t?r:r.substring(0,t).trim()+"...":r}function l(e){let t=a.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000";return"".concat(t).concat(e.startsWith("/")?e:"/".concat(e))}function n(e){return"/noticia/".concat(e)}function o(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function c(e){if(!e)return"category-link";let t=e.toUpperCase(),r={"#EF4444":"category-link-red","#F59E0B":"category-link-yellow","#10B981":"category-link-green","#3B82F6":"category-link-blue","#8B5CF6":"category-link-purple","#F97316":"category-link-yellow","#84CC16":"category-link-green","#06B6D4":"category-link-blue","#EC4899":"category-link-purple","#6B7280":"category-link"};if(r[t])return r[t];let a=o(e);if(!a)return"category-link";let{r:s,g:i,b:l}=a;return s>200&&i>100&&l<100?"category-link-yellow":s>i&&s>l&&s>150&&i<100&&l<100?"category-link-red":l>s&&l>i&&l>150&&s<100&&i<100?"category-link-blue":i>s&&i>l&&i>150&&s<100&&l<100?"category-link-green":s>100&&l>100&&i<100?"category-link-purple":"category-link"}function d(e){let t=o(e);if(!t)return"category-badge";let{r,g:a,b:s}=t;return r>a&&r>s&&r>150?"category-badge-red":s>r&&s>a&&s>150?"category-badge-blue":a>r&&a>s&&a>150?"category-badge-green":r>200&&a>200&&s<100?"category-badge-yellow":r>100&&s>100&&a<100?"category-badge-purple":"category-badge"}},62358:(e,t,r)=>{"use strict";r.d(t,{NewsletterSubscription:()=>f});var a=r(95155),s=r(12115),i=r(3998),l=r(65142),n=r(51834),o=r(38162),c=r(5917),d=r(64269);let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.bL,{ref:t,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,a.jsx)(o.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})})});u.displayName=o.bL.displayName;var m=r(23664),h=r(6132),x=r(14585),g=r(19708);class p{async subscribe(e){try{let t=await this.getSubscriptionByEmail(e.email);if(t){if("active"===t.status)throw Error("Este e-mail j\xe1 est\xe1 inscrito na nossa newsletter.");else if("unsubscribed"===t.status)throw Error("Este e-mail foi removido da nossa newsletter. Entre em contato para reativar.")}let r={email:e.email.toLowerCase().trim(),status:"active",subscribedAt:(0,g.O5)(),ipAddress:e.ipAddress,userAgent:e.userAgent,source:e.source||"website"};return{id:(await (0,g.gS)(this.collectionRef,r)).id,email:e.email,status:"active",subscribedAt:new Date,source:e.source||"website"}}catch(e){throw console.error("Error subscribing to newsletter:",e),e}}async getSubscriptionByEmail(e){try{var t,r;let a=(0,g.P)(this.collectionRef,(0,g._M)("email","==",e.toLowerCase().trim())),s=await (0,g.GG)(a);if(s.empty)return null;let i=s.docs[0],l=i.data();return{id:i.id,email:l.email,status:l.status,subscribedAt:(null==(t=l.subscribedAt)?void 0:t.toDate())||new Date,unsubscribedAt:null==(r=l.unsubscribedAt)?void 0:r.toDate(),ipAddress:l.ipAddress,userAgent:l.userAgent,source:l.source}}catch(e){return console.error("Error getting subscription by email:",e),null}}async getAllSubscriptions(){try{return(await (0,g.GG)(this.collectionRef)).docs.map(e=>{var t,r;let a=e.data();return{id:e.id,email:a.email,status:a.status,subscribedAt:(null==(t=a.subscribedAt)?void 0:t.toDate())||new Date,unsubscribedAt:null==(r=a.unsubscribedAt)?void 0:r.toDate(),ipAddress:a.ipAddress,userAgent:a.userAgent,source:a.source}})}catch(e){return console.error("Error getting all subscriptions:",e),[]}}async getActiveSubscriptions(){try{let e=(0,g.P)(this.collectionRef,(0,g._M)("status","==","active"));return(await (0,g.GG)(e)).docs.map(e=>{var t,r;let a=e.data();return{id:e.id,email:a.email,status:a.status,subscribedAt:(null==(t=a.subscribedAt)?void 0:t.toDate())||new Date,unsubscribedAt:null==(r=a.unsubscribedAt)?void 0:r.toDate(),ipAddress:a.ipAddress,userAgent:a.userAgent,source:a.source}})}catch(e){return console.error("Error getting active subscriptions:",e),[]}}async getSubscriptionStats(){try{let e=await this.getAllSubscriptions();return{total:e.length,active:e.filter(e=>"active"===e.status).length,unsubscribed:e.filter(e=>"unsubscribed"===e.status).length,pending:e.filter(e=>"pending"===e.status).length}}catch(e){return console.error("Error getting subscription stats:",e),{total:0,active:0,unsubscribed:0,pending:0}}}constructor(){this.collectionRef=(0,g.rJ)(x.db,"newsletter_subscriptions")}}let b=new p;function f(e){let{className:t=""}=e,[r,o]=(0,s.useState)(""),[d,x]=(0,s.useState)(!1),[g,p]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!1),[w,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),A=async()=>{if(!w||!j)return void alert("Voc\xea deve concordar com os termos e a LGPD para continuar.");v(!0);try{let e=navigator.userAgent,t=await k();await b.subscribe({email:r,ipAddress:t,userAgent:e,source:"website"}),x(!1),p(!0),o(""),y(!1),N(!1),setTimeout(()=>p(!1),3e3)}catch(e){console.error("Erro ao inscrever-se na newsletter:",e),alert(e.message||"Erro ao processar inscri\xe7\xe3o. Tente novamente.")}finally{v(!1)}},k=async()=>{try{let e=await fetch("https://api.ipify.org?format=json");return(await e.json()).ip}catch(e){return"unknown"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 text-white rounded-xl p-8 text-center shadow-xl border border-blue-700/20 ".concat(t),children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-full mb-4",children:(0,a.jsx)(m.A,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Receba nossas not\xedcias"}),(0,a.jsx)("p",{className:"text-blue-100 text-base leading-relaxed max-w-sm mx-auto",children:"Fique por dentro das principais not\xedcias de Goi\xe1s e receba atualiza\xe7\xf5es exclusivas"})]}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),r.trim()){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return void alert("Por favor, insira um e-mail v\xe1lido.");x(!0)}},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,a.jsx)(m.A,{className:"h-5 w-5 text-blue-300 group-focus-within:text-blue-200 transition-colors"})}),(0,a.jsx)(l.p,{type:"email",placeholder:"Digite seu melhor e-mail",value:r,onChange:e=>o(e.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl text-gray-900 text-base border-2 border-white/20 bg-white/95 focus:bg-white focus:border-blue-300 focus:ring-4 focus:ring-blue-300/20 transition-all duration-200 placeholder:text-gray-500",required:!0})]}),(0,a.jsx)(i.$,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:!r.trim(),children:(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("span",{children:"Inscrever-se"}),(0,a.jsx)(c.A,{className:"h-4 w-4"})]})})]}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-white/10",children:(0,a.jsxs)("p",{className:"text-xs text-blue-200 flex items-center justify-center space-x-1",children:[(0,a.jsx)(c.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Sem spam • Cancele quando quiser • Dados protegidos"})]})})]}),(0,a.jsx)(n.lG,{open:d,onOpenChange:x,children:(0,a.jsxs)(n.Cf,{className:"sm:max-w-md",children:[(0,a.jsxs)(n.c7,{children:[(0,a.jsxs)(n.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-blue-600"}),"Confirma\xe7\xe3o de Inscri\xe7\xe3o"]}),(0,a.jsx)(n.rr,{children:"Antes de confirmar sua inscri\xe7\xe3o, leia e aceite os termos abaixo:"})]}),(0,a.jsx)("div",{className:"space-y-4 py-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(u,{id:"terms",checked:w,onCheckedChange:e=>y(e)}),(0,a.jsx)("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-relaxed",children:"Concordo em receber e-mails da nossa comunica\xe7\xe3o com not\xedcias, atualiza\xe7\xf5es e conte\xfado relevante sobre Goi\xe1s."})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(u,{id:"lgpd",checked:j,onCheckedChange:e=>N(e)}),(0,a.jsxs)("label",{htmlFor:"lgpd",className:"text-sm text-gray-700 leading-relaxed",children:["Concordo com a"," ",(0,a.jsx)("a",{href:"/pagina/politica-privacidade",target:"_blank",className:"text-blue-600 hover:underline",children:"Pol\xedtica de Privacidade"})," ","e os"," ",(0,a.jsx)("a",{href:"/pagina/termos-uso",target:"_blank",className:"text-blue-600 hover:underline",children:"Termos de Uso"})," ","da LGPD."]})]})]})}),(0,a.jsxs)(n.Es,{className:"flex gap-2",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{x(!1),y(!1),N(!1)},disabled:f,children:"Cancelar"}),(0,a.jsx)(i.$,{onClick:A,disabled:!w||!j||f,className:"bg-blue-600 hover:bg-blue-700",children:f?"Processando...":"Confirmar Inscri\xe7\xe3o"})]})]})}),g&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom-2",children:(0,a.jsxs)("div",{className:"bg-green-600 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px]",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Inscri\xe7\xe3o realizada com sucesso!"}),(0,a.jsx)("p",{className:"text-sm text-green-100",children:"Voc\xea receber\xe1 nossas not\xedcias em breve."})]}),(0,a.jsx)("button",{onClick:()=>p(!1),className:"ml-auto text-green-200 hover:text-white",children:"\xd7"})]})})]})}},92662:(e,t,r)=>{"use strict";r.d(t,{CategorySection:()=>o});var a=r(95155),s=r(52619),i=r.n(s),l=r(46898),n=r(56618);function o(e){let{category:t,news:r,showViewAll:s=!0,className:o=""}=e;return 0===r.length?null:(0,a.jsxs)("section",{className:"mb-8 ".concat(o),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"category-indicator",style:{"--category-color":t.color}}),(0,a.jsx)("h2",{className:"category-title ".concat((0,n.up)(t.color)),children:t.name.toUpperCase()})]}),s&&(0,a.jsx)(i(),{href:"/categoria/".concat(t.slug),className:"text-sm font-medium text-gray-600 hover:text-blue-900 transition-colors",children:"Ver todas →"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,a.jsx)(l.NewsCard,{news:e,variant:"default",showCategory:!1},e.id))})]})}}},e=>{e.O(0,[9135,7210,9779,3643,5239,2619,4869,3148,9511,6111,8749,8441,1255,7358],()=>e(e.s=3004)),_N_E=e.O()}]);