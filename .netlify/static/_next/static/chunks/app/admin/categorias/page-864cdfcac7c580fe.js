(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6395],{6191:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},10489:(e,a,s)=>{"use strict";s.d(a,{b:()=>c});var r=s(12115),t=s(97602),l=s(95155),i=r.forwardRef((e,a)=>(0,l.jsx)(t.sG.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var c=i},11010:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},14585:(e,a,s)=>{"use strict";s.d(a,{IG:()=>d,db:()=>o,j2:()=>n});var r=s(52078),t=s(81328),l=s(19708),i=s(79996);let c=(0,r.Wp)({apiKey:"AIzaSyBjdbOl0xyru5TfEQtu2iC2wqIz3QvrRQM",authDomain:"aconexaogoias.firebaseapp.com",projectId:"aconexaogoias",storageBucket:"aconexaogoias.firebasestorage.app",messagingSenderId:"6509088743",appId:"1:6509088743:web:f1866c676e18c53204f742"}),n=(0,t.xI)(c),o=(0,l.aU)(c),d=(0,i.c7)(c)},31120:(e,a,s)=>{"use strict";s.d(a,{T:()=>l});var r=s(95155);s(12115);var t=s(64269);function l(e){let{className:a,...s}=e;return(0,r.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...s})}},31656:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>M});var r=s(95155),t=s(12115),l=s(22544),i=s(66942),c=s(41508),n=s(6191),o=s(49476),d=s(70532),x=s(57828),m=s(11010),u=s(71360),g=s(65229),h=s(46046),p=s(3998),f=s(65142),j=s(76444),y=s(31120),v=s(86948),b=s(11647),N=s(87270),k=s(51834),A=s(23739),w=s(56618);let C=c.Ikc({name:c.YjP().min(1,"Nome \xe9 obrigat\xf3rio"),slug:c.YjP().min(1,"Slug \xe9 obrigat\xf3rio"),color:c.YjP().min(1,"Cor \xe9 obrigat\xf3ria"),description:c.YjP().optional(),order:c.aig().min(0),isActive:c.zMY()}),E=["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6","#8b5cf6","#ec4899","#6b7280","#1f2937"];function M(){let[e,a]=(0,t.useState)([]),[s,c]=(0,t.useState)(!0),[M,z]=(0,t.useState)(!1),[S,I]=(0,t.useState)(null),[D,F]=(0,t.useState)(!1),{register:B,handleSubmit:L,reset:P,watch:J,setValue:R,formState:{errors:Y}}=(0,l.mN)({resolver:(0,i.u)(C),defaultValues:{isActive:!0,order:0,color:"#3b82f6"}}),_=J("name");(0,t.useEffect)(()=>{_&&!S&&R("slug",(0,w.Yv)(_))},[_,R,S]),(0,t.useEffect)(()=>{(async()=>{try{let e=await A.M.getAllCategories();a(e.sort((e,a)=>e.order-a.order))}catch(e){console.error("Error loading categories:",e),alert("Erro ao carregar categorias")}finally{c(!1)}})()},[]);let $=async e=>{F(!0);try{if(S)await A.M.updateCategory(S.id,e),a(a=>a.map(a=>a.id===S.id?{...a,...e}:a)),alert("Categoria atualizada com sucesso!");else{let s={id:await A.M.createCategory(e),...e,createdAt:new Date,updatedAt:new Date};a(e=>[...e,s].sort((e,a)=>e.order-a.order)),alert("Categoria criada com sucesso!")}z(!1),I(null),P()}catch(e){console.error("Error saving category:",e),alert(e instanceof Error?e.message:"Erro ao salvar categoria")}finally{F(!1)}},T=async e=>{if(confirm('Tem certeza que deseja excluir a categoria "'.concat(e.name,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.')))try{await A.M.deleteCategory(e.id),a(a=>a.filter(a=>a.id!==e.id)),alert("Categoria exclu\xedda com sucesso!")}catch(e){console.error("Error deleting category:",e),alert(e instanceof Error?e.message:"Erro ao excluir categoria")}},U=async e=>{try{await A.M.updateCategory(e.id,{isActive:!e.isActive}),a(a=>a.map(a=>a.id===e.id?{...a,isActive:!a.isActive}:a))}catch(e){console.error("Error toggling category status:",e),alert("Erro ao alterar status da categoria")}};return s?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse mb-2"}),(0,r.jsx)("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"})]}),(0,r.jsx)("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"})]}),(0,r.jsx)("div",{className:"h-96 bg-gray-200 rounded animate-pulse"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Categorias"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Gerencie as categorias de not\xedcias"})]}),(0,r.jsxs)(p.$,{onClick:()=>{I(null),P({isActive:!0,order:e.length,color:"#3b82f6"}),z(!0)},children:[(0,r.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(v.Zp,{children:(0,r.jsx)(v.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.length}),(0,r.jsx)("div",{className:"ml-2 text-sm text-gray-600",children:"Total"})]})})}),(0,r.jsx)(v.Zp,{children:(0,r.jsx)(v.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>e.isActive).length}),(0,r.jsx)("div",{className:"ml-2 text-sm text-gray-600",children:"Ativas"})]})})}),(0,r.jsx)(v.Zp,{children:(0,r.jsx)(v.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.filter(e=>!e.isActive).length}),(0,r.jsx)("div",{className:"ml-2 text-sm text-gray-600",children:"Inativas"})]})})})]}),(0,r.jsxs)(v.Zp,{children:[(0,r.jsxs)(v.aR,{children:[(0,r.jsx)(v.ZB,{children:"Lista de Categorias"}),(0,r.jsxs)(v.BT,{children:[e.length," categoria(s) encontrada(s)"]})]}),(0,r.jsx)(v.Wu,{children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(N.XI,{children:[(0,r.jsx)(N.A0,{children:(0,r.jsxs)(N.Hj,{children:[(0,r.jsx)(N.nd,{className:"w-12",children:"Ordem"}),(0,r.jsx)(N.nd,{children:"Nome"}),(0,r.jsx)(N.nd,{children:"Slug"}),(0,r.jsx)(N.nd,{children:"Cor"}),(0,r.jsx)(N.nd,{children:"Status"}),(0,r.jsx)(N.nd,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(N.nd,{children:"A\xe7\xf5es"})]})}),(0,r.jsx)(N.BF,{children:e.map(e=>(0,r.jsxs)(N.Hj,{children:[(0,r.jsx)(N.nA,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.order})]})}),(0,r.jsx)(N.nA,{children:(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.name})}),(0,r.jsx)(N.nA,{children:(0,r.jsx)("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.slug})}),(0,r.jsx)(N.nA,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.color})]})}),(0,r.jsx)(N.nA,{children:(0,r.jsx)(b.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Ativa":"Inativa"})}),(0,r.jsx)(N.nA,{children:(0,r.jsx)("div",{className:"max-w-xs truncate text-sm text-gray-600",children:e.description||"-"})}),(0,r.jsx)(N.nA,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>U(e),title:e.isActive?"Desativar":"Ativar",children:e.isActive?(0,r.jsx)(d.A,{className:"h-4 w-4"}):(0,r.jsx)(x.A,{className:"h-4 w-4"})}),(0,r.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>{I(e),R("name",e.name),R("slug",e.slug),R("color",e.color),R("description",e.description||""),R("order",e.order),R("isActive",e.isActive),z(!0)},"aria-label":"Editar categoria ".concat(e.name),children:(0,r.jsx)(m.A,{className:"h-4 w-4"})}),(0,r.jsx)(p.$,{variant:"ghost",size:"sm",onClick:()=>T(e),className:"text-red-600 hover:text-red-700",children:(0,r.jsx)(u.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})})]}),(0,r.jsx)(k.lG,{open:M,onOpenChange:z,children:(0,r.jsxs)(k.Cf,{className:"max-w-md",children:[(0,r.jsxs)(k.c7,{children:[(0,r.jsx)(k.L3,{children:S?"Editar Categoria":"Nova Categoria"}),(0,r.jsx)(k.rr,{children:S?"Atualize as informa\xe7\xf5es da categoria":"Crie uma nova categoria de not\xedcias"})]}),(0,r.jsxs)("form",{onSubmit:L($),className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{htmlFor:"name",children:"Nome"}),(0,r.jsx)(f.p,{...B("name"),placeholder:"Nome da categoria",className:Y.name?"border-red-500":""}),Y.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:Y.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{htmlFor:"slug",children:"Slug (URL)"}),(0,r.jsx)(f.p,{...B("slug"),placeholder:"url-da-categoria",className:Y.slug?"border-red-500":""}),Y.slug&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:Y.slug.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{htmlFor:"color",children:"Cor"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f.p,{...B("color"),type:"color",className:"w-12 h-10 p-1 border rounded"}),(0,r.jsx)(f.p,{...B("color"),placeholder:"#3b82f6",className:"flex-1"})]}),(0,r.jsx)("div",{className:"grid grid-cols-5 gap-2",children:E.map(e=>(0,r.jsx)("button",{type:"button",className:"w-8 h-8 rounded border border-gray-300 hover:scale-110 transition-transform",style:{backgroundColor:e},onClick:()=>R("color",e),"aria-label":"Selecionar cor ".concat(e)},e))})]}),Y.color&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:Y.color.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{htmlFor:"description",children:"Descri\xe7\xe3o (opcional)"}),(0,r.jsx)(y.T,{...B("description"),placeholder:"Descri\xe7\xe3o da categoria",rows:3})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(j.J,{htmlFor:"order",children:"Ordem"}),(0,r.jsx)(f.p,{...B("order",{valueAsNumber:!0}),type:"number",min:"0",placeholder:"0"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"isActive",...B("isActive"),className:"rounded"}),(0,r.jsx)(j.J,{htmlFor:"isActive",children:"Categoria ativa"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,r.jsxs)(p.$,{type:"button",variant:"outline",onClick:()=>{z(!1),I(null),P()},children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),(0,r.jsxs)(p.$,{type:"submit",disabled:D,children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-2"}),D?"Salvando...":"Salvar"]})]})]})]})})]})}},49476:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])},51834:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>x,Es:()=>u,L3:()=>g,c7:()=>m,lG:()=>n,rr:()=>h});var r=s(95155),t=s(12115),l=s(89511),i=s(65229),c=s(64269);let n=l.bL;l.l9;let o=l.ZL;l.bm;let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.hJ,{ref:a,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t})});d.displayName=l.hJ.displayName;let x=t.forwardRef((e,a)=>{let{className:s,children:t,...n}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(d,{}),(0,r.jsxs)(l.UC,{ref:a,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[t,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let m=e=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};m.displayName="DialogHeader";let u=e=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};u.displayName="DialogFooter";let g=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.hE,{ref:a,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",s),...t})});g.displayName=l.hE.displayName;let h=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.VY,{ref:a,className:(0,c.cn)("text-sm text-muted-foreground",s),...t})});h.displayName=l.VY.displayName},56618:(e,a,s)=>{"use strict";s.d(a,{Lo:()=>i,Yv:()=>t,c5:()=>l,oi:()=>d,up:()=>o,xe:()=>c});var r=s(87358);function t(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}function l(e,a){let s=e.replace(/<[^>]*>/g,"");return a?s.length<=a?s:s.substring(0,a).trim()+"...":s}function i(e){let a=r.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000";return"".concat(a).concat(e.startsWith("/")?e:"/".concat(e))}function c(e){return"/noticia/".concat(e)}function n(e){let a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}function o(e){if(!e)return"category-link";let a=e.toUpperCase(),s={"#EF4444":"category-link-red","#F59E0B":"category-link-yellow","#10B981":"category-link-green","#3B82F6":"category-link-blue","#8B5CF6":"category-link-purple","#F97316":"category-link-yellow","#84CC16":"category-link-green","#06B6D4":"category-link-blue","#EC4899":"category-link-purple","#6B7280":"category-link"};if(s[a])return s[a];let r=n(e);if(!r)return"category-link";let{r:t,g:l,b:i}=r;return t>200&&l>100&&i<100?"category-link-yellow":t>l&&t>i&&t>150&&l<100&&i<100?"category-link-red":i>t&&i>l&&i>150&&t<100&&l<100?"category-link-blue":l>t&&l>i&&l>150&&t<100&&i<100?"category-link-green":t>100&&i>100&&l<100?"category-link-purple":"category-link"}function d(e){let a=n(e);if(!a)return"category-badge";let{r:s,g:r,b:t}=a;return s>r&&s>t&&s>150?"category-badge-red":t>s&&t>r&&t>150?"category-badge-blue":r>s&&r>t&&r>150?"category-badge-green":s>200&&r>200&&t<100?"category-badge-yellow":s>100&&t>100&&r<100?"category-badge-purple":"category-badge"}},64269:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var r=s(2821),t=s(75889);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,t.QP)((0,r.$)(a))}},70532:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},71360:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},75295:(e,a,s)=>{Promise.resolve().then(s.bind(s,31656))},76444:(e,a,s)=>{"use strict";s.d(a,{J:()=>i});var r=s(95155);s(12115);var t=s(10489),l=s(64269);function i(e){let{className:a,...s}=e;return(0,r.jsx)(t.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}}},e=>{e.O(0,[9135,7210,9779,3643,3148,3446,4337,9511,4109,8441,1255,7358],()=>e(e.s=75295)),_N_E=e.O()}]);