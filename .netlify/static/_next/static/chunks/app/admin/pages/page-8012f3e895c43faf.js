(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{3512:(e,a,t)=>{"use strict";t.d(a,{O:()=>l});var r=t(95155),s=t(64269);function l(e){let{children:a,className:t="",title:l,description:i,footer:n}=e;return(0,r.jsxs)("div",{className:(0,s.cn)("bg-white border border-gray-200 rounded-lg shadow-sm",t),children:[(l||i)&&(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[l&&(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l}),i&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:i})]}),(0,r.jsx)("div",{className:"px-6 py-4",children:a}),n&&(0,r.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:n})]})}},4008:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var r=t(95155),s=t(12115),l=t(6191),i=t(86651),n=t(89715),c=t(57828),o=t(16485),d=t(11010),h=t(71360),u=t(92001),x=t(3512),g=t(61922),p=t(88114),m=t(72301);function y(){let[e,a]=(0,s.useState)([]),[t,y]=(0,s.useState)(!0),[f,v]=(0,s.useState)(""),[j,b]=(0,s.useState)("all"),[w,N]=(0,s.useState)("all"),[k,A]=(0,s.useState)([]);(0,s.useEffect)(()=>{P()},[j,w,f]);let P=async()=>{try{y(!0);let e=await m.B.getPages({status:"all"===j?void 0:j,type:"all"===w?void 0:w,search:f||void 0});a(e)}catch(e){console.error("Error loading pages:",e)}finally{y(!1)}},z=async e=>{if(confirm("Tem certeza que deseja excluir esta p\xe1gina?"))try{await m.B.deletePage(e),a(a=>a.filter(a=>a.id!==e)),A(a=>a.filter(a=>a!==e))}catch(e){console.error("Error deleting page:",e)}};return t?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"P\xe1ginas"})}),(0,r.jsx)(x.O,{children:(0,r.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"P\xe1ginas"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Gerencie as p\xe1ginas do site"})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(g.a,{onClick:()=>window.location.href="/admin/pages/new?type=footer",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Nova P\xe1gina do Rodap\xe9"]}),(0,r.jsxs)(g.a,{variant:"secondary",onClick:()=>window.location.href="/admin/pages/new?type=general",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Nova P\xe1gina Geral"]})]})]}),(0,r.jsx)(x.O,{children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar p\xe1ginas...",value:f,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Buscar p\xe1ginas"})]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("select",{value:w,onChange:e=>{N(e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filtrar por tipo",children:[(0,r.jsx)("option",{value:"all",children:"Todos os tipos"}),(0,r.jsx)("option",{value:"footer",children:"P\xe1ginas do Rodap\xe9"}),(0,r.jsx)("option",{value:"general",children:"P\xe1ginas Gerais"})]}),(0,r.jsxs)("select",{value:j,onChange:e=>{b(e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filtrar por status",children:[(0,r.jsx)("option",{value:"all",children:"Todos os status"}),(0,r.jsx)("option",{value:"published",children:"Publicadas"}),(0,r.jsx)("option",{value:"draft",children:"Rascunhos"}),(0,r.jsx)("option",{value:"private",children:"Privadas"})]})]})]})}),k.length>0&&(0,r.jsx)(x.O,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[k.length," p\xe1gina(s) selecionada(s)"]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)(g.a,{variant:"secondary",size:"small",onClick:()=>{},children:"A\xe7\xf5es em Lote"})})]})}),(0,r.jsxs)(x.O,{children:[(0,r.jsxs)(p.m_,{children:[(0,r.jsx)(p.$3,{children:(0,r.jsxs)(p.Ef,{children:[(0,r.jsx)(p.zz,{className:"w-12",children:(0,r.jsx)("input",{type:"checkbox",checked:k.length===e.length&&e.length>0,onChange:()=>{k.length===e.length?A([]):A(e.map(e=>e.id).filter(e=>void 0!==e))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","aria-label":"Selecionar todas as p\xe1ginas"})}),(0,r.jsx)(p.zz,{children:"T\xedtulo"}),(0,r.jsx)(p.zz,{children:"Tipo"}),(0,r.jsx)(p.zz,{children:"Status"}),(0,r.jsx)(p.zz,{children:"Autor"}),(0,r.jsx)(p.zz,{children:"Visualiza\xe7\xf5es"}),(0,r.jsx)(p.zz,{children:"Data"}),(0,r.jsx)(p.zz,{className:"w-12",children:"A\xe7\xf5es"})]})}),(0,r.jsx)(p.Q3,{children:e.map(e=>(0,r.jsxs)(p.Ef,{isSelected:!!e.id&&k.includes(e.id),children:[(0,r.jsx)(p.w1,{children:(0,r.jsx)("input",{type:"checkbox",checked:!!e.id&&k.includes(e.id),onChange:()=>{var a;return e.id&&(a=e.id,void A(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a]))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","aria-label":"Selecionar p\xe1gina ".concat(e.title)})}),(0,r.jsx)(p.w1,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center",children:(0,r.jsx)(n.A,{className:"h-4 w-4 text-gray-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["/",e.slug]})]})]})}),(0,r.jsx)(p.w1,{children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("footer"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"footer"===e.type?"Rodap\xe9":"Geral"}),e.footerType&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["privacy"===e.footerType&&"Pol\xedtica de Privacidade","terms"===e.footerType&&"Termos de Uso","about"===e.footerType&&"Sobre N\xf3s","contact"===e.footerType&&"Contato","custom"===e.footerType&&"Personalizada"]})]})}),(0,r.jsx)(p.w1,{children:(e=>{let a={published:{label:"Publicado",className:"bg-green-100 text-green-800"},draft:{label:"Rascunho",className:"bg-yellow-100 text-yellow-800"},private:{label:"Privado",className:"bg-gray-100 text-gray-800"}},t=a[e]||a.draft;return(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t.className),children:t.label})})(e.status)}),(0,r.jsx)(p.w1,{children:(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.author})}),(0,r.jsx)(p.w1,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.views})]})}),(0,r.jsx)(p.w1,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.updatedAt.toLocaleDateString("pt-BR")})]})}),(0,r.jsx)(p.w1,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(g.a,{variant:"tertiary",size:"small",onClick:()=>{},children:(0,r.jsx)(c.A,{className:"h-4 w-4"})}),(0,r.jsx)(g.a,{variant:"tertiary",size:"small",onClick:()=>e.id&&(window.location.href="/admin/pages/edit/".concat(e.id)),children:(0,r.jsx)(d.A,{className:"h-4 w-4"})}),(0,r.jsx)(g.a,{variant:"tertiary",size:"small",onClick:()=>e.id&&z(e.id),children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})]})})]},e.id))})]}),0===e.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(u.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma p\xe1gina encontrada"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:f||"all"!==j?"Tente ajustar os filtros de busca.":"Comece criando sua primeira p\xe1gina."}),!f&&"all"===j&&"all"===w&&(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(g.a,{onClick:()=>window.location.href="/admin/pages/new?type=footer",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Nova P\xe1gina do Rodap\xe9"]}),(0,r.jsxs)(g.a,{variant:"secondary",onClick:()=>window.location.href="/admin/pages/new?type=general",children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Nova P\xe1gina Geral"]})]})]})]})]})}},6191:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},11010:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(71847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},14585:(e,a,t)=>{"use strict";t.d(a,{IG:()=>d,db:()=>o,j2:()=>c});var r=t(52078),s=t(81328),l=t(19708),i=t(79996);let n=(0,r.Wp)({apiKey:"AIzaSyBjdbOl0xyru5TfEQtu2iC2wqIz3QvrRQM",authDomain:"aconexaogoias.firebaseapp.com",projectId:"aconexaogoias",storageBucket:"aconexaogoias.firebasestorage.app",messagingSenderId:"6509088743",appId:"1:6509088743:web:f1866c676e18c53204f742"}),c=(0,s.xI)(n),o=(0,l.aU)(n),d=(0,i.c7)(n)},16485:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(71847).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},57828:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(71847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},61922:(e,a,t)=>{"use strict";t.d(a,{a:()=>l});var r=t(95155),s=t(64269);function l(e){let{variant:a="primary",size:t="medium",children:l,className:i="",asChild:n=!1,...c}=e;return(0,r.jsx)("button",{className:(0,s.cn)("inline-flex items-center justify-center font-medium rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",tertiary:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",link:"bg-transparent text-blue-600 hover:text-blue-700 hover:underline focus:ring-blue-500"}[a],{small:"px-3 py-1.5 text-sm",medium:"px-4 py-2 text-sm",large:"px-6 py-3 text-base"}[t],i),...c,children:l})}},64269:(e,a,t)=>{"use strict";t.d(a,{cn:()=>l});var r=t(2821),s=t(75889);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}},71360:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},71721:(e,a,t)=>{Promise.resolve().then(t.bind(t,4008))},72301:(e,a,t)=>{"use strict";t.d(a,{B:()=>i});var r=t(19708),s=t(14585);class l{convertFirestoreData(e,a){var t,r,s,l;return{id:a,title:e.title||"",slug:e.slug||"",content:e.content||"",status:e.status||"draft",type:e.type||"general",footerType:e.footerType,metaDescription:e.metaDescription,seoTitle:e.seoTitle,author:e.author||"Admin",views:e.views||0,createdAt:(null==(r=e.createdAt)||null==(t=r.toDate)?void 0:t.call(r))||new Date,updatedAt:(null==(l=e.updatedAt)||null==(s=l.toDate)?void 0:s.call(l))||new Date}}convertToFirestoreData(e){let a=(0,r.O5)(),{id:t,...s}=e;return{...s,updatedAt:a,...t?{}:{createdAt:a,views:0}}}async getPages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let a=(0,r.P)((0,r.rJ)(s.db,this.collectionName));e.status&&(a=(0,r.P)(a,(0,r._M)("status","==",e.status))),e.type&&(a=(0,r.P)(a,(0,r._M)("type","==",e.type))),e.footerType&&(a=(0,r.P)(a,(0,r._M)("footerType","==",e.footerType))),a=(0,r.P)(a,(0,r.My)("updatedAt","desc"));let t=(await (0,r.GG)(a)).docs.map(e=>this.convertFirestoreData(e.data(),e.id));if(e.search){let a=e.search.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(a)||e.slug.toLowerCase().includes(a)||e.content.toLowerCase().includes(a))}return t}catch(e){throw console.error("Error fetching pages:",e),e}}async getPageById(e){try{let a=(0,r.H9)(s.db,this.collectionName,e),t=await (0,r.x7)(a);if(t.exists())return this.convertFirestoreData(t.data(),t.id);return null}catch(e){throw console.error("Error fetching page by ID:",e),e}}async getPageBySlug(e){try{let a=(0,r.P)((0,r.rJ)(s.db,this.collectionName),(0,r._M)("slug","==",e),(0,r._M)("status","==","published")),t=await (0,r.GG)(a);if(!t.empty){let e=t.docs[0];return this.convertFirestoreData(e.data(),e.id)}return null}catch(e){throw console.error("Error fetching page by slug:",e),e}}async createPage(e){try{let a=this.convertToFirestoreData(e);return(await (0,r.gS)((0,r.rJ)(s.db,this.collectionName),a)).id}catch(e){throw console.error("Error creating page:",e),e}}async updatePage(e){try{let{id:a,...t}=e,l=this.convertToFirestoreData({...t,id:a}),i=(0,r.H9)(s.db,this.collectionName,a);await (0,r.mZ)(i,l)}catch(e){throw console.error("Error updating page:",e),e}}async deletePage(e){try{let a=(0,r.H9)(s.db,this.collectionName,e);await (0,r.kd)(a)}catch(e){throw console.error("Error deleting page:",e),e}}async incrementViews(e){try{let a=(0,r.H9)(s.db,this.collectionName,e),t=await (0,r.x7)(a);if(t.exists()){let e=t.data().views||0;await (0,r.mZ)(a,{views:e+1,lastViewedAt:(0,r.O5)()})}}catch(e){console.error("Error incrementing views:",e)}}async getFooterPages(){return this.getPages({type:"footer",status:"published"})}async getGeneralPages(){return this.getPages({type:"general",status:"published"})}async isSlugAvailable(e,a){try{let t=(0,r.P)((0,r.rJ)(s.db,this.collectionName),(0,r._M)("slug","==",e)),l=await (0,r.GG)(t);if(a)return l.docs.every(e=>e.id!==a);return l.empty}catch(e){return console.error("Error checking slug availability:",e),!1}}constructor(){this.collectionName="pages"}}let i=new l},86651:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},88114:(e,a,t)=>{"use strict";t.d(a,{$3:()=>i,Ef:()=>c,Q3:()=>n,m_:()=>l,w1:()=>o,zz:()=>d});var r=t(95155),s=t(64269);function l(e){let{children:a,className:t=""}=e;return(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsx)("table",{className:(0,s.cn)("w-full border-collapse bg-white border border-gray-200 rounded-lg",t),children:a})})}function i(e){let{children:a,className:t=""}=e;return(0,r.jsx)("thead",{className:(0,s.cn)("bg-gray-50",t),children:a})}function n(e){let{children:a,className:t=""}=e;return(0,r.jsx)("tbody",{className:(0,s.cn)("divide-y divide-gray-200",t),children:a})}function c(e){let{children:a,className:t="",isSelected:l=!1}=e;return(0,r.jsx)("tr",{className:(0,s.cn)("hover:bg-gray-50 transition-colors",l&&"bg-blue-50",t),children:a})}function o(e){let{children:a,className:t="",colSpan:l}=e;return(0,r.jsx)("td",{className:(0,s.cn)("px-6 py-4 text-sm text-gray-900",t),colSpan:l,children:a})}function d(e){let{children:a,className:t=""}=e;return(0,r.jsx)("th",{className:(0,s.cn)("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",t),children:a})}},89715:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(71847).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},92001:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(71847).A)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])}},e=>{e.O(0,[9135,7210,9779,3643,8441,1255,7358],()=>e(e.s=71721)),_N_E=e.O()}]);