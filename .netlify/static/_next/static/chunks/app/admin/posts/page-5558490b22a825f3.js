(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9358],{903:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>C});var t=r(95155),l=r(12115),a=r(20063),i=r(52619),n=r.n(i),c=r(6191),o=r(86651),d=r(89715),x=r(20508),u=r(16485),h=r(70532),m=r(57828),g=r(11010),b=r(71360),j=r(3512),y=r(61922),f=r(94315),p=r(88114),N=r(11914),v=r(86706),w=r(52817);function C(){let[e,s]=(0,l.useState)([]),[r,i]=(0,l.useState)(!0),[C,A]=(0,l.useState)(""),[z,P]=(0,l.useState)("all"),[k,S]=(0,l.useState)([]),E=(0,a.useRouter)();(0,l.useEffect)(()=>{O()},[]);let O=async()=>{try{i(!0);let e=await v.b.getAllNews();s(e)}catch(e){console.error("Error loading posts:",e)}finally{i(!1)}},_=async r=>{if(confirm("Tem certeza que deseja excluir esta not\xedcia?"))try{await v.b.deleteNews(r),s(e.filter(e=>e.id!==r))}catch(e){console.error("Error deleting post:",e)}},H=async r=>{try{let t={isPublished:!r.isPublished,publishedAt:r.isPublished?void 0:new Date().toISOString()};await v.b.updateNews(r.id,t),s(e.map(e=>e.id===r.id?{...e,isPublished:!e.isPublished,publishedAt:e.isPublished?void 0:new Date}:e))}catch(e){console.error("Error updating post status:",e)}},G=e.filter(e=>{var s;let r=e.title.toLowerCase().includes(C.toLowerCase())||(null==(s=e.subtitle)?void 0:s.toLowerCase().includes(C.toLowerCase())),t="all"===z||("published"===z?e.isPublished:!e.isPublished);return r&&t});return r?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Not\xedcias"})}),(0,t.jsx)(j.O,{children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Not\xedcias"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Gerencie todas as not\xedcias do portal"})]}),(0,t.jsx)(y.a,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/admin/editor",className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Nova Not\xedcia"]})})]}),(0,t.jsx)(j.O,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar not\xedcias...",value:C,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("select",{value:z,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Filtrar por status",children:[(0,t.jsx)("option",{value:"all",children:"Todos os status"}),(0,t.jsx)("option",{value:"published",children:"Publicados"}),(0,t.jsx)("option",{value:"draft",children:"Rascunhos"})]})})]})}),k.length>0&&(0,t.jsxs)(N.Y,{type:"info",children:[k.length," not\xedcia(s) selecionada(s).",(0,t.jsx)(y.a,{variant:"link",size:"small",className:"ml-2",children:"A\xe7\xf5es em lote"})]}),(0,t.jsxs)(j.O,{children:[(0,t.jsxs)(p.m_,{children:[(0,t.jsx)(p.$3,{children:(0,t.jsxs)(p.Ef,{children:[(0,t.jsx)(p.zz,{className:"w-12",children:(0,t.jsx)("input",{type:"checkbox",checked:k.length===G.length&&G.length>0,onChange:()=>{k.length===G.length?S([]):S(G.map(e=>e.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","aria-label":"Selecionar todas as not\xedcias"})}),(0,t.jsx)(p.zz,{children:"T\xedtulo"}),(0,t.jsx)(p.zz,{children:"Autor"}),(0,t.jsx)(p.zz,{children:"Categoria"}),(0,t.jsx)(p.zz,{children:"Status"}),(0,t.jsx)(p.zz,{children:"Data"}),(0,t.jsx)(p.zz,{className:"w-12",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(p.Q3,{children:G.map(e=>(0,t.jsxs)(p.Ef,{isSelected:k.includes(e.id),children:[(0,t.jsx)(p.w1,{children:(0,t.jsx)("input",{type:"checkbox",checked:k.includes(e.id),onChange:()=>{var s;return s=e.id,void S(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","aria-label":"Selecionar not\xedcia: ".concat(e.title)})}),(0,t.jsx)(p.w1,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.title}),e.subtitle&&(0,t.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.subtitle})]})]})}),(0,t.jsx)(p.w1,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-900",children:e.author})]})}),(0,t.jsx)(p.w1,{children:(0,t.jsx)(f.b,{variant:"info",children:e.categoryId})}),(0,t.jsx)(p.w1,{children:e.isPublished?(0,t.jsx)(f.b,{variant:"success",children:"Publicado"}):(0,t.jsx)(f.b,{variant:"warning",children:"Rascunho"})}),(0,t.jsx)(p.w1,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-900",children:e.publishedAt?(0,w.Yq)(e.publishedAt):(0,w.Yq)(e.createdAt)})]})}),(0,t.jsx)(p.w1,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(y.a,{variant:"tertiary",size:"small",onClick:()=>H(e),children:e.isPublished?(0,t.jsx)(h.A,{className:"h-4 w-4"}):(0,t.jsx)(m.A,{className:"h-4 w-4"})}),(0,t.jsx)(y.a,{variant:"tertiary",size:"small",onClick:()=>E.push("/admin/editor/".concat(e.id)),children:(0,t.jsx)(g.A,{className:"h-4 w-4"})}),(0,t.jsx)(y.a,{variant:"tertiary",size:"small",onClick:()=>_(e.id),children:(0,t.jsx)(b.A,{className:"h-4 w-4"})})]})})]},e.id))})]}),0===G.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma not\xedcia encontrada"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:C||"all"!==z?"Tente ajustar os filtros de busca.":"Comece criando sua primeira not\xedcia."}),(0,t.jsx)(y.a,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/admin/editor",className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Nova Not\xedcia"]})})]})]})]})}},3512:(e,s,r)=>{"use strict";r.d(s,{O:()=>a});var t=r(95155),l=r(64269);function a(e){let{children:s,className:r="",title:a,description:i,footer:n}=e;return(0,t.jsxs)("div",{className:(0,l.cn)("bg-white border border-gray-200 rounded-lg shadow-sm",r),children:[(a||i)&&(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[a&&(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a}),i&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:i})]}),(0,t.jsx)("div",{className:"px-6 py-4",children:s}),n&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:n})]})}},11914:(e,s,r)=>{"use strict";r.d(s,{Y:()=>x});var t=r(95155),l=r(12115),a=r(42529),i=r(6132),n=r(52056),c=r(23327),o=r(65229),d=r(64269);function x(e){let{children:s,type:r="info",dismissible:x=!1,onDismiss:u,className:h=""}=e,[m,g]=(0,l.useState)(!1);if(m)return null;let b={success:{icon:a.A,bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",iconColor:"text-green-400"},error:{icon:i.A,bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-400"},warning:{icon:n.A,bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-400"},info:{icon:c.A,bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-400"}}[r],j=b.icon;return(0,t.jsx)("div",{className:(0,d.cn)("border rounded-md p-4",b.bgColor,b.borderColor,h),children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(j,{className:(0,d.cn)("h-5 w-5",b.iconColor)})}),(0,t.jsx)("div",{className:"ml-3 flex-1",children:(0,t.jsx)("p",{className:(0,d.cn)("text-sm font-medium",b.textColor),children:s})}),x&&(0,t.jsx)("div",{className:"ml-auto pl-3",children:(0,t.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,t.jsxs)("button",{type:"button",className:(0,d.cn)("inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2",b.textColor,"hover:bg-opacity-20"),onClick:()=>{g(!0),null==u||u()},children:[(0,t.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,t.jsx)(o.A,{className:"h-4 w-4"})]})})})]})})}},23420:(e,s,r)=>{Promise.resolve().then(r.bind(r,903))},52817:(e,s,r)=>{"use strict";r.d(s,{Pp:()=>o,Yq:()=>c});var t=r(26467),l=r(25583),a=r(35504),i=r(47732),n=r(26206);function c(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",r="string"==typeof e?(0,t.H)(e):e;return(0,l.GP)(r,s,{locale:n.F})}function o(e){let s="string"==typeof e?(0,t.H)(e):e;return(0,a.c)(s)?"Agora, ".concat((0,l.GP)(s,"HH:mm")):(0,i.P)(s)?"Ontem, ".concat((0,l.GP)(s,"HH:mm")):(0,l.GP)(s,"dd/MM/yyyy",{locale:n.F})}},61922:(e,s,r)=>{"use strict";r.d(s,{a:()=>a});var t=r(95155),l=r(64269);function a(e){let{variant:s="primary",size:r="medium",children:a,className:i="",asChild:n=!1,...c}=e;return(0,t.jsx)("button",{className:(0,l.cn)("inline-flex items-center justify-center font-medium rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",tertiary:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",link:"bg-transparent text-blue-600 hover:text-blue-700 hover:underline focus:ring-blue-500"}[s],{small:"px-3 py-1.5 text-sm",medium:"px-4 py-2 text-sm",large:"px-6 py-3 text-base"}[r],i),...c,children:a})}},88114:(e,s,r)=>{"use strict";r.d(s,{$3:()=>i,Ef:()=>c,Q3:()=>n,m_:()=>a,w1:()=>o,zz:()=>d});var t=r(95155),l=r(64269);function a(e){let{children:s,className:r=""}=e;return(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)("table",{className:(0,l.cn)("w-full border-collapse bg-white border border-gray-200 rounded-lg",r),children:s})})}function i(e){let{children:s,className:r=""}=e;return(0,t.jsx)("thead",{className:(0,l.cn)("bg-gray-50",r),children:s})}function n(e){let{children:s,className:r=""}=e;return(0,t.jsx)("tbody",{className:(0,l.cn)("divide-y divide-gray-200",r),children:s})}function c(e){let{children:s,className:r="",isSelected:a=!1}=e;return(0,t.jsx)("tr",{className:(0,l.cn)("hover:bg-gray-50 transition-colors",a&&"bg-blue-50",r),children:s})}function o(e){let{children:s,className:r="",colSpan:a}=e;return(0,t.jsx)("td",{className:(0,l.cn)("px-6 py-4 text-sm text-gray-900",r),colSpan:a,children:s})}function d(e){let{children:s,className:r=""}=e;return(0,t.jsx)("th",{className:(0,l.cn)("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",r),children:s})}},94315:(e,s,r)=>{"use strict";r.d(s,{b:()=>a});var t=r(95155),l=r(64269);function a(e){let{children:s,variant:r="default",size:a="small",className:i=""}=e;return(0,t.jsx)("span",{className:(0,l.cn)("inline-flex items-center font-medium rounded-full",{default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[r],{small:"px-2 py-1 text-xs",medium:"px-3 py-1 text-sm"}[a],i),children:s})}}},e=>{e.O(0,[9135,7210,9779,3643,2619,4869,3397,4366,8441,1255,7358],()=>e(e.s=23420)),_N_E=e.O()}]);